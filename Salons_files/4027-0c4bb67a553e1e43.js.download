"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4027,2222],{4027:function(a,b,c){var d=c(47568),e=c(26042),f=c(69396),g=c(82222),h=c(34051),i=c.n(h),j=c(85893),k=c(60536),l=c.n(k),m=c(9669),n=c.n(m),o=c(67294),p=c(56064),q=c(5152),r=c.n(q),s=c(11163),t=c(85313),u=c(37630),v=c(90091),w=c(11434),x=r()(function(){return c.e(5800).then(c.bind(c,55800))},{loadableGenerated:{webpack:function(){return[55800]}}}),y=r()(function(){return c.e(3290).then(c.bind(c,63290))},{loadableGenerated:{webpack:function(){return[63290]}}}),z=function(a){return function(b){var c,h,k,m,q,r=(0,p.v9)(function(a){var b,c;return null==a?void 0:null===(b=a.user)|| void 0===b?void 0:null===(c=b.data)|| void 0===c?void 0:c.data}),z=(0,p.v9)(function(a){return null==a?void 0:a.appState}),A=(null==r?void 0:null===(c=r.mobile)|| void 0===c?void 0:c.length)>0?1:0,B=(0,s.useRouter)(),C=(null==B?void 0:null===(h=B.query)|| void 0===h?void 0:null===(k=h.docid)|| void 0===k?void 0:k.length)>0,D=(null==B?void 0:null===(m=B.query)|| void 0===m?void 0:null===(q=m.ncatid)|| void 0===q?void 0:q.length)>0,E="rsltpge",F="OTP_Success",G=1,H="lspg";Boolean(C&&D)?(G=1,H="dtpg",E="dtlpg"):Boolean(C)&&(G=2,H="dtpg",E="dtlpg");var I,J=b.type,K=(0,o.useRef)({show:function(){}}),L={open:!1,statuscode:6,message:"",parameters:null},M=(0,o.useState)((0,e.Z)({},L)),N=M[0],O=M[1],P=(0,o.useState)(!1),Q=P[0],R=P[1],S=(0,o.useState)({error:!1,message:"",isOpen:!1}),T=S[0],U=S[1],V=(0,o.useState)(null),W=V[0],X=V[1],Y=(I=(0,d.Z)(i().mark(function a(c){var d,h,j,k,l,m,o,p,q,r,s,u,w,x,y,B,C,D,I,J,L,M,P,Q,S,T,V,W,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h=void 0===(d=c.magicname)?"":d,j=c.barea,k=void 0===j?"":j,l=c.city,m=c.ncatid,o=c.area,p=c.catname,q=c.lat,r=c.long,s=c.docid,u=c.name,w=c.mobile,x=c.email,y=c.bd,B=c.nearme,C=c.paidstatus,D=c.ver_code,I=void 0===D?"":D,J=c.casetype,L=void 0===J?"sms_email":J,M=c.resendOtp,P=void 0!==M&&M,Q=c.from,S=void 0===Q?"":Q,T=c.page,V=void 0===T?"":T,W=c.callbackFunc,Y=void 0===W?null:W,Z=c.calledFrom,$=void 0===Z?"":Z,_=c.showLoader,aa=void 0!==_&&_,ab=c.frmpg,ac=void 0===ab?"":ab,ad=c.onClose,ae=void 0===ad?null:ad,R(!0),!0==P&&(null===(af=K.current)|| void 0===af||af.show("OTP Resending...")),ag=(null==N?void 0:N.parameters)?null==N?void 0:N.parameters:{city:l,ncatid:m,area:o,catname:p,lat:q,long:r,docid:s,name:u,mobile:w,email:x,is_verified:A,nearme:B,paidstatus:C,barea:k,magicname:h,from:S,page:V,callbackFunc:Y,calledFrom:$,showLoader:aa,frmpg:ac,onClose:ae},X(function(a){return(0,f.Z)((0,e.Z)({},a),{showLoader:(null==ag?void 0:ag.showLoader)||!1})}),ac=(null==ag?void 0:ag.frmpg)?null==ag?void 0:ag.frmpg:H,(null==w?void 0:w.length)>0&&(ag=(0,f.Z)((0,e.Z)({},ag),{mobile:w})),(null==u?void 0:u.length)>0&&(ag=(0,f.Z)((0,e.Z)({},ag),{name:u})),"details_sticky"==V?(ac="dtpg_footer",h="bestdeal",ag=(0,f.Z)((0,e.Z)({},ag),{magicname:h})):"dtpg_gallerygrid"==V?(ac="dtpg_gallerygrid",h="bestdeal",ag=(0,f.Z)((0,e.Z)({},ag),{magicname:h})):"gallery"==V&&(ac="gallery",h="bestdeal",ag=(0,f.Z)((0,e.Z)({},ag),{magicname:h})),a.prev=9,(void 0!==(null==(aj=(0,e.Z)({},ag))?void 0:aj.callbackFunc)||null!=(0,g.Z)(null==aj?void 0:aj.callbackFunc))&&delete aj.callbackFunc,(void 0!==(null==aj?void 0:aj.calledFrom)||null!=(0,g.Z)(null==aj?void 0:aj.calledFrom))&&delete aj.calledFrom,(void 0!==(null==aj?void 0:aj.showLoader)||null!=(0,g.Z)(null==aj?void 0:aj.showLoader))&&delete aj.showLoader,(void 0!==(null==aj?void 0:aj.onClose)||null!=(0,g.Z)(null==aj?void 0:aj.onClose))&&delete aj.onClose,a.next=18,n().post("/api/submitBestDetal",(0,f.Z)((0,e.Z)({},aj),{ver_code:I,casetype:L,bd:G,frmpg:ac,resendOtp:P}),{headers:{"Content-Type":"application/json"}});case 18:return ak=a.sent,a.next=21,ak.data;case 21:al=a.sent,R(!1),clearTimeout(window.bestDealAutoPopupTimeOut),(null==al?void 0:null===(ah=al.results)|| void 0===ah?void 0:ah.statuscode)==6?(!0==P&&(null===(am=K.current)|| void 0===am||am.show("OTP Resent Successfully")),(null==ag?void 0:ag.callbackFunc)&&(null==ag||ag.callbackFunc()),O(function(a){var b,c;return(0,f.Z)((0,e.Z)({},a),{parameters:ag,open:!0,statuscode:null==al?void 0:null===(b=al.results)|| void 0===b?void 0:b.statuscode,message:null==al?void 0:null===(c=al.results)|| void 0===c?void 0:c.message,callbackFunc:(null==ag?void 0:ag.callbackFunc)||null})})):(null==al?void 0:null===(ai=al.results)|| void 0===ai?void 0:ai.statuscode)==1?((null==ag?void 0:ag.calledFrom)=="rhs_form"&&"sms_email"!=L&&(F="RHS_BD_OTP_Success",(0,v.a5)({li:F,ll:"home"==E?"hmpge":E||"",navigation:"0",lpageval:"home"==E?"hmpge":E||"",contracts:[],search_id:"",ncatid:""})),ar=void 0===(aq=(ap=(null==z?void 0:null===(an=z.resultsPageListing)|| void 0===an?void 0:an.alldata)||{}).bd_text)?"":aq,as=ap.national_catid,at=void 0===as?"":as,(au="dtlpg"==E?m:at)||(aw=(av=null==N?void 0:N.parameters).ncatid,au="dtlpg"==E?aw:at),ax=(null==(ax=sessionStorage.getItem("bdsubmitted"))?void 0:ax.length)>0?ax.concat(",".concat(au)):au,"dtpg"==H&&(ax=(null==ax?void 0:ax.length)>0?ax.concat(",".concat(null==ag?void 0:ag.docid)):null==ag?void 0:ag.docid),sessionStorage.setItem("bdsubmitted",ax),"dtlpg"==E?(aE=void 0===(aD=(aC=aB=(null==z?void 0:null===(ay=z.detailPageData)|| void 0===ay?void 0:null===(az=ay[null==ag?void 0:ag.docid])|| void 0===az?void 0:null===(aA=az.data)|| void 0===aA?void 0:aA.results)||{}).verified)?"":aD,aF=aC.name,aG=void 0===aF?"":aF,aH=aC.paidstatus,aI=void 0===aH?"":aH,aJ=aC.bd_detailshow,aK=void 0===aJ?{}:aJ,aL=aK.bd_text,aM=void 0===aL?"":aL,aB&&(0,t.j)({bdtext:aM,bdpage:E,ncatid:au,bname:aG,verified:aE,paidStatus:aI,docid:null==ag?void 0:ag.docid,position:"",type:"Submit"})):"rsltpge"==E?(aR=null==z?void 0:null===(aN=z.resultsPageListing)|| void 0===aN?void 0:null===(aO=aN.data)|| void 0===aO?void 0:aO.filter(function(a){return a.docid==(null==ag?void 0:ag.docid)})[0],aS=null==z?void 0:null===(aP=z.resultsPageListing)|| void 0===aP?void 0:null===(aQ=aP.data)|| void 0===aQ?void 0:aQ.findIndex(function(a){return a.docid==(null==ag?void 0:ag.docid)}),aV=void 0===(aU=(aT=aR||{}).verified)?"":aU,aW=aT.name,aX=void 0===aW?"":aW,aY=aT.paidStatus,aZ=void 0===aY?"":aY,a$=aT.docid,a_=void 0===a$?"":a$,aR&&(0,t.j)({bdtext:ar,bdpage:E,ncatid:at,bname:aX,verified:aV,paidStatus:aZ,docid:a_,position:aS,type:"Submit"}),void 0!==window.dataLayer&&"function"==typeof(null==dataLayer?void 0:dataLayer.push)&&dataLayer.push({event:"form_interaction",page_type:"rsltpge",form_name:"Best Deal final",form_step_name:"",form_step_number:(null==ag?void 0:ag.from)&&"popup"==ag.from?"2":"",form_option:(null==ag?void 0:ag.catname)?decodeURIComponent(null==ag?void 0:ag.catname):"",time_stamp:Date.now()})):console.info("**Note: Datalayer not added best detal**"),(null==ag?void 0:ag.callbackFunc)&&(null==ag||ag.callbackFunc()),O(function(a){var b;return(0,f.Z)((0,e.Z)({},a),{parameters:ag,open:!1,statuscode:null==al?void 0:null===(b=al.results)|| void 0===b?void 0:b.statuscode,message:""})}),U({message:null==al?void 0:null===(ao=al.results)|| void 0===ao?void 0:ao.message,isOpen:!0,error:!1}),setTimeout(function(){U({message:"",isOpen:!1,error:!1}),(null==ag?void 0:ag.callbackFunc)&&(null==ag||ag.callbackFunc());var a=(null==b?void 0:b.onClose)?null==b?void 0:b.onClose:(null==ag?void 0:ag.onClose)?null==ag?void 0:ag.onClose:null;a&&(a(null,null,"bestdeal_submit"),document.querySelector("body").classList.remove("no_scroll")),1!=A&&window.location.reload()},2e3)):((null==ag?void 0:ag.showLoader)&&(null===(a0=K.current)|| void 0===a0||a0.show((null==al?void 0:null===(a1=al.results)|| void 0===a1?void 0:a1.message)||"Something went wrong!",null,null,{showSuccessIcon:!1})),(null==N?void 0:N.open)== !0?((null==ag?void 0:ag.callbackFunc)&&(null==ag||ag.callbackFunc()),O(function(a){var b,c;return(0,f.Z)((0,e.Z)({},a),{parameters:ag,statuscode:null==al?void 0:null===(b=al.results)|| void 0===b?void 0:b.statuscode,message:null==al?void 0:null===(c=al.results)|| void 0===c?void 0:c.message})})):((null==ag?void 0:ag.callbackFunc)&&(null==ag||ag.callbackFunc()),O(function(a){var b,c;return(0,f.Z)((0,e.Z)({},a),{parameters:ag,open:!1,statuscode:null==al?void 0:null===(b=al.results)|| void 0===b?void 0:b.statuscode,message:null==al?void 0:null===(c=al.results)|| void 0===c?void 0:c.message})}))),a.next=30;break;case 27:a.prev=27,a.t0=a.catch(9),console.log("api fetching error");case 30:case"end":return a.stop()}},a,null,[[9,27]])})),function(a){return I.apply(this,arguments)});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l(),{id:"ed65574b6120db48",children:".spinner_box{top:0;left:0;width:100%;height:100%;position:fixed;z-index:10;background:rgba(0,0,0,.5);overflow-y:auto;-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}"}),(0,j.jsx)("div",{className:"jsx-ed65574b6120db48 "+"".concat((null==N?void 0:N.open)== !0||(null==T?void 0:T.isOpen)== !0?"dn":""),children:(0,j.jsx)(a,(0,f.Z)((0,e.Z)({},b),{onSubmit:Y,apiErrorMsg:null==N?void 0:N.message,apiLoading:Q}))}),(null==N?void 0:N.open)== !0?(0,j.jsx)(x,(0,f.Z)((0,e.Z)({},b),{onSubmit:Y,type:void 0===J?"bd":J,apiErrorMsg:null==N?void 0:N.message,onClose:function(){(null==N?void 0:N.callbackFunc)&&(null==N||N.callbackFunc()),O(function(a){return(0,e.Z)({},L)})},apiLoading:Q})):null,(null==T?void 0:T.isOpen)== !0?(0,j.jsx)(y,{error:!1,title:"",body:(null==T?void 0:T.message)||""}):null,(0,j.jsx)(u.Z,{ref:K,error:!1,showSuccessIcon:!0}),Q&&(null==W?void 0:W.showLoader)?(0,j.jsxs)("div",{className:"jsx-ed65574b6120db48 spinner_box",children:[(0,j.jsx)(w.Z,{}),(0,j.jsx)("div",{className:"jsx-ed65574b6120db48 font18 fw500 colorFFF pt-20 text_center",children:"Processing  . . ."})]}):null]})}};b.Z=z},11434:function(a,b,c){var d=c(26042),e=c(99534),f=c(85893),g=c(60536),h=c.n(g),i=function(a){var b=a.size,c=void 0===b?"75px":b,g=a.strokeWidth,i=a.children,j=a.borderTopColor,k=a.trackColor,l=(0,e.Z)(a,["size","strokeWidth","children","borderTopColor","trackColor"]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{style:(0,d.Z)({width:c,height:c,border:(void 0===g?"6px":g)+" solid "+(k||"rgba(18,116,192,0.2)"),borderTopColor:j||"#1274c0"},l),className:"jsx-624a11a42efc768e "+"jd-spinner ".concat(i?"mr-10":"")}),i,(0,f.jsx)(h(),{id:"624a11a42efc768e",children:".jd-spinner{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background-color:transparent;-webkit-animation:1.2s spin linear infinite;-moz-animation:1.2s spin linear infinite;-o-animation:1.2s spin linear infinite;animation:1.2s spin linear infinite}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{from{-webkit-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]})};b.Z=i},82222:function(a,b,c){c.d(b,{Z:function(){return d}});function d(a){return a&&a.constructor===Symbol?"symbol":typeof a}}}])